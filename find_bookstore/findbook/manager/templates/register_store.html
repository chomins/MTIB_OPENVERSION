{% extends 'base.html' %}

{% block head %}
<script src="https://t1.daumcdn.net/mapjsapi/bundle/postcode/prod/postcode.v2.js"></script>
{% endblock %}

{% block content %}

{% comment %} <nav class="navbar fixed-top navbar-light " id="navbar_section" style="background-color: transparent;" >
    <div>
    <a class="navbar-brand" href="{% url 'customer_main' %}">
        <svg id="e2372a95-2762-4539-bef0-676f8291b0ae" style="width: 110px;" data-name="Layer 1" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 100 100"><defs><style>.aeea27b1-6a36-436e-a3bb-95a0448364bd{fill:#d5b8ff;stroke:#d5b8ff;stroke-miterlimit:10;stroke-width:1.5px;fill-rule:evenodd;}.be59457e-4405-48b7-96d1-990b0a9442e5{fill:#fff;}</style></defs><title>독립서점</title><path class="aeea27b1-6a36-436e-a3bb-95a0448364bd" d="M86.15,14.63,52.1,2.39a6.39,6.39,0,0,0-3.75,0L16.47,14.61a2.58,2.58,0,0,0-1.81,2.46V95.86a1.11,1.11,0,0,0,1.47,1L50.22,85.63,86.56,97A1.11,1.11,0,0,0,88,95.89V17.1A2.57,2.57,0,0,0,86.15,14.63Z"/><path class="be59457e-4405-48b7-96d1-990b0a9442e5" d="M39.73,53.1H34.29v-.91h1.85l.19-.23V29.41h-.11L30.93,51.73H29.65L24.36,29.41h-.11V52l.18.23h2.08v.91H21.15v-.91H23l.19-.23V29.11L23,28.84H20.81V28h4.27l5.17,21.91h.15L35.61,28h4v.87H37.65l-.18.27V52l.18.23h2.08Z"/><path class="be59457e-4405-48b7-96d1-990b0a9442e5" d="M55.18,32h-1l-.11-3.1H49.93V52l.19.23H52.2v.91H46.76v-.91h1.85L48.8,52v-23H44.68L44.57,32h-1V28H55.18Z"/><path class="be59457e-4405-48b7-96d1-990b0a9442e5" d="M59.19,53.1v-.91H61l.19-.23V29.11L61,28.84H59V28h5.48v.87H62.55l-.19.27V52l.19.23h2.11v.91Z"/><path class="be59457e-4405-48b7-96d1-990b0a9442e5" d="M69.05,52.19H70.9l.19-.23V29.11l-.19-.27H68.82V28h5.93c3.37,0,4.76,2,4.76,6.43,0,4-1.28,5.28-2.87,5.81v.12c1.66.41,3.55,1.58,3.55,6.16s-1.51,6.61-4.87,6.61H69.05Zm5.74-12.28c2.34,0,3.59-1.43,3.59-5.44s-1.21-5.55-3.74-5.55H72.22v11Zm.42,12.24c2.6,0,3.85-1.32,3.85-5.7s-1.81-5.59-4.31-5.59H72.22v11l.19.27Z"/><path class="be59457e-4405-48b7-96d1-990b0a9442e5" d="M82.44,63.51H20.22a.56.56,0,0,1,0-1.11H82.44a.56.56,0,1,1,0,1.11Z"/></svg>
    </a>
    </div>
</nav> {% endcomment %}

<div class="container">
    <form method="POST" action="{% url 'new_bookstore' %}">
        {% csrf_token %}
        <div class="row" style="text-align: center; margin-top:5%; font-weight:bold; font-family:MapoFlowerIsland;">
            <div class="col">
                <h2 style="color: #2e3131"><strong><span>서점 등록하기</span></strong></h2>
                <h4 style="color: #2e3131"><span>현재 운영하고 있는 서점을 등록해주세요.</span></h4>
            </div>
        </div>
        <br>
        <br>
        <div class="row">
            <div class="col-3">
    
            </div>
            <div class="col" style="color:#2e3131">
                <p style="font-size: medium; font-weight:bold; font-family:MapoFlowerIsland;"><span>서점이름</span></p>
            </div>
        </div>
        <div class="row">
            <div class="col-3">
                
            </div>
            <div class="col-6 input-group">
                <input class="form-control" type="text" name="store_name" style="font-family:MapoFlowerIsland;">
            </div>
        </div>
        <br>
        <div class="row">
            <div class="col-3">
    
            </div>
            <div class="col" style="color:#2e3131">
                <p style="font-size: medium; font-weight:bold; font-family:MapoFlowerIsland;"><span>서점 전화번호</span></p>
            </div>
        </div>
        <div class="row">
            <div class="col-3">
                
            </div>
            <div class="col-6 input-group">
                <input class="form-control" type="text" name="store_tel" style="font-family:MapoFlowerIsland;">
            </div>
        </div>
        <br>
        <div class="row">
            <div class="col-3">
    
            </div>
            <div class="col" style="color:#2e3131">
                <p style="font-size: medium; font-weight:bold; font-family:MapoFlowerIsland; "><span>서점주소</span></p>
            </div>
        </div>
        <div class="row">
            <div class="col-3">
                
            </div>
            <div class="col-6 ">
                <div class="row">
                    <div class="col input-group">
                        <input type="text" class="form-control" id="sample3_postcode" style="font-family:MapoFlowerIsland;" placeholder="우편번호">
                        <div class="input-group-append">
                            <input type="button" class="btn btn-light" style="color: white; background-color:#d5b8ff; font-weight:bold; font-family:MapoFlowerIsland;" onclick="sample3_execDaumPostcode()" value="우편번호 찾기">
                        </div>
                    </div>
                </div>
                <br>
                <div class="row">
                    <div class="col">
                        <input type="text" id="sample3_address" style="font-family:MapoFlowerIsland;" class="form-control" name="store_addr1" placeholder="주소">
                    </div>
                </div>
                <br>
                <div class="row">
                    <div class="col">
                        <input type="text" id="sample3_detailAddress" style="font-family:MapoFlowerIsland;" class="form-control" name="store_addr2" placeholder="상세주소">
                    </div>
                </div>
                <br>
                <div class="row">
                    <div class="col">
                        <input type="text" id="sample3_extraAddress" style="font-family:MapoFlowerIsland;" class="form-control" placeholder="참고항목">
                    </div>
                </div>
                <br>
                <div class="row">
                    <div class="col">
                        <div id="wrap" style="display:none;border:1px solid;max-width:100%;height:auto;margin:5px 0;position:relative">
                            <img src="//t1.daumcdn.net/postcode/resource/images/close.png" id="btnFoldWrap" style="cursor:pointer;position:absolute;right:0px;top:-1px;z-index:1" onclick="foldDaumPostcode()" alt="접기 버튼">
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <div class="row">
            <div class="col-3">
    
            </div>
            <div class="col" style="color:#2e3131">
                <p style="font-size: medium; font-weight:bold; font-family:MapoFlowerIsland;"><span>서점설명</span></p>
            </div>
        </div>
        <div class="row">
            <div class="col-3">
                
            </div>
            <div class="col-6 input-group">
                <input class="form-control" type="text" name="store_description" style="font-family:MapoFlowerIsland;">
            </div>
        </div>
        <br>
        <div class="row">
            <div class="col-3">
    
            </div>
            <div class="col" style="color:#2e3131">
                <p style="font-size: medium; font-weight:bold; font-family:MapoFlowerIsland;"><span>서점 분위기</span></p>
            </div>
        </div>
        <div class="row">
            <div class="col-3">
                
            </div>
            <div class="col-6 input-group">
                <select class="form-control" name = "tag1" style="font-family:MapoFlowerIsland;">
                    <option>잔잔한</option>
                    <option>재미있는</option>
                    <option>쾌적한</option>
                    <option>시적인</option>
                </select>
                <select class="form-control" name = "tag2" style="font-family:MapoFlowerIsland; margin-left:5px; margin-right:5px;">
                    <option>수수한</option>
                    <option>신나는</option>
                    <option>넓직한</option>
                    <option>침착한</option>
                </select>
                <select class="form-control" name = "tag3" style="font-family:MapoFlowerIsland;">
                    <option>부드러운</option>
                    <option>활발한</option>
                    <option>평화로운</option>
                    <option>깔끔한</option>
                </select>
            </div>
        </div>
        <br>
    

        <div class="row">
            <div class="col-3">
                
            </div>
            <div class="col-6 input-group">

            </div>
        </div>
        <div class="row mb-5 mt-3">
            <div class="col-3">
                
            </div>
            <div class="col-6 input-group">
                <button type="submit" class="form-control" style="border-radius: 40px; background-color: #d5b8ff; color: white; font-weight:bold; font-family:MapoFlowerIsland;"> 완료 </button>
            </div>
        </div>
        
    </form>
</div>


<!-- 카카오 주소지검색 -->
<script>
    // 우편번호 찾기 찾기 화면을 넣을 element
    var element_wrap = document.getElementById('wrap');

    function foldDaumPostcode() {
        // iframe을 넣은 element를 안보이게 한다.
        element_wrap.style.display = 'none';
    }

    function sample3_execDaumPostcode() {
        // 현재 scroll 위치를 저장해놓는다.
        var currentScroll = Math.max(document.body.scrollTop, document.documentElement.scrollTop);
        new daum.Postcode({
            oncomplete: function(data) {
                // 검색결과 항목을 클릭했을때 실행할 코드를 작성하는 부분.

                // 각 주소의 노출 규칙에 따라 주소를 조합한다.
                // 내려오는 변수가 값이 없는 경우엔 공백('')값을 가지므로, 이를 참고하여 분기 한다.
                var addr = ''; // 주소 변수
                var extraAddr = ''; // 참고항목 변수

                //사용자가 선택한 주소 타입에 따라 해당 주소 값을 가져온다.
                if (data.userSelectedType === 'R') { // 사용자가 도로명 주소를 선택했을 경우
                    addr = data.roadAddress;
                } else { // 사용자가 지번 주소를 선택했을 경우(J)
                    addr = data.jibunAddress;
                }

                // 사용자가 선택한 주소가 도로명 타입일때 참고항목을 조합한다.
                if(data.userSelectedType === 'R'){
                    // 법정동명이 있을 경우 추가한다. (법정리는 제외)
                    // 법정동의 경우 마지막 문자가 "동/로/가"로 끝난다.
                    if(data.bname !== '' && /[동|로|가]$/g.test(data.bname)){
                        extraAddr += data.bname;
                    }
                    // 건물명이 있고, 공동주택일 경우 추가한다.
                    if(data.buildingName !== '' && data.apartment === 'Y'){
                        extraAddr += (extraAddr !== '' ? ', ' + data.buildingName : data.buildingName);
                    }
                    // 표시할 참고항목이 있을 경우, 괄호까지 추가한 최종 문자열을 만든다.
                    if(extraAddr !== ''){
                        extraAddr = ' (' + extraAddr + ')';
                    }
                    // 조합된 참고항목을 해당 필드에 넣는다.
                    document.getElementById("sample3_extraAddress").value = extraAddr;
                
                } else {
                    document.getElementById("sample3_extraAddress").value = '';
                }

                // 우편번호와 주소 정보를 해당 필드에 넣는다.
                document.getElementById('sample3_postcode').value = data.zonecode;
                document.getElementById("sample3_address").value = addr;
                // 커서를 상세주소 필드로 이동한다.
                document.getElementById("sample3_detailAddress").focus();

                // iframe을 넣은 element를 안보이게 한다.
                // (autoClose:false 기능을 이용한다면, 아래 코드를 제거해야 화면에서 사라지지 않는다.)
                element_wrap.style.display = 'none';

                // 우편번호 찾기 화면이 보이기 이전으로 scroll 위치를 되돌린다.
                document.body.scrollTop = currentScroll;
            },
            // 우편번호 찾기 화면 크기가 조정되었을때 실행할 코드를 작성하는 부분. iframe을 넣은 element의 높이값을 조정한다.
            onresize : function(size) {
                element_wrap.style.height = size.height+'px';
            },
            width : '100%',
            height : '100%'
        }).embed(element_wrap);

        // iframe을 넣은 element를 보이게 한다.
        element_wrap.style.display = 'block';
    }
</script>
{% endblock %}